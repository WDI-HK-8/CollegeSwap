app.controller('StaticPagesCtrl',['$scope', '$http', '$auth', '$location', function($scope, $http, $auth, $location){

  var url = "<%= ENV['URL'] %>" || "http://localhost:3000";

  $http.get(url+"/schools").success(function(response){
    $scope.schools=response;
  })

  $scope.login = function () {
    $auth.submitLogin($scope.loginForm).
     then(function(resp) {
       // handle success response
       console.log(resp);

       // redirect back to root when registration succesfull 
       $location.path('/home');
     }).
     catch(function(resp) {
       // handle error response
       console.log(resp);
     });
  };

  $scope.signup = function(){
    $auth.submitRegistration($scope.registrationForm).then(function(response){
      // handle success
      console.log(response)
      $location.path('/home');
    }).catch(function(response){
      // handle errors
      console.log(response)
    })
  }
}]);